<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TripleS Bias Sorter</title>
  <style type="text/css">
    @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@600&display=swap');

    .css-selector {
        background: linear-gradient(325deg, #f9d4c5, #fff8ed);
        background-size: 400% 400%;

        -webkit-animation: gradbg 4s ease infinite;
        -moz-animation: gradbg 4s ease infinite;
        -o-animation: gradbg 4s ease infinite;
        animation: gradbg 4s ease infinite;
    }

    @-webkit-keyframes gradbg {
        0%{background-position:0% 50%}
        50%{background-position:100% 50%}
        100%{background-position:0% 50%}
    }
    @-moz-keyframes gradbg {
        0%{background-position:0% 50%}
        50%{background-position:100% 50%}
        100%{background-position:0% 50%}
    }
    @-o-keyframes gradbg {
        0%{background-position:0% 50%}
        50%{background-position:100% 50%}
        100%{background-position:0% 50%}
    }
    @keyframes gradbg {
        0%{background-position:0% 50%}
        50%{background-position:100% 50%}
        100%{background-position:0% 50%}
    }

    #mainTable {
        font-size: 14px;
        font-family: 'Nunito', sans-serif;
        text-align: center;
        vertical-align: middle;
        width: 300px;
        margin-left: auto;
        margin-right: auto;
        border-collapse: separate;
        border-spacing: 10px 5px;
    }

    #leftField{
        font-family: '맑은 고딕', 'Malgun Gothic', 'Nunito', sans-serif;
        width: 208px;
        height: 208px;
        border: 10px solid #FF0000;
        cursor: pointer;
    }

    #rightField{
        font-family: '맑은 고딕', 'Malgun Gothic', 'Nunito', sans-serif;
        width: 208px;
        height: 208px;
        border: 10px solid #0000FF;
        cursor: pointer;
    }

    .middleField{
        font-family: 'Nunito', sans-serif;
        width: 100px;
        height: 25px;
        border: 10px solid #008000;
        cursor: pointer;
    }

    .rank-grid{
        display: grid;
        grid-gap: 0.2cm 0.05cm;
        grid-template-columns: repeat(7, 1fr);
        grid-template-areas:
            ".   .   .   r1  .   .   ."
            ".   .   r2  .   r3  .   ."
            ".   r4  r5  r6  r7  r8  ."
            ".   r9  r10 r11 r12 r13 ."
            "r14 r15 r16 r17 r18 r19 r20";
        zoom: .85;
    }

    .rank-grid > li {
        counter-increment: number;
        list-style-type: none;
        transition: all 0.3s linear;
        opacity: 0.9;
        filter: alpha(opacity=100);
    }
    
    .rank-grid > li > div {
        position: relative;
    }
    
    .rank-grid > li > div {
        width:95%;
        margin: auto;
        text-align:center;
        padding-top: 5px;
        padding-bottom: 5px;
        border-radius: 15px 15px;
        font-family: 'Nunito';
        text-shadow: 0 1px 4px #000000;
    }
        
    .rank-grid > li > div:after {
        position: absolute;
        top: 0px;
        right: auto;
        bottom: auto;
        left: 0px;
        font-size: 1em;
        font-weight: 700;
        content: counter(number);
        background: #ffffff;
        border-radius: 0px 0px 10px;
        color: #000000;
        text-align: center;
        width: 20px;
        height: 20px;
        padding-top: 2px;
        font-family: 'Nunito';
        text-shadow: none;
    }

    .rank-grid > li:hover {
        opacity: 1;
        filter: alpha(opacity=100);
        transform:scaleX(1.04) scaleY(1.04);
    }

    .rank-grid > li:nth-child(1) {
        grid-area: r1;
    }
    .rank-grid > li:nth-child(2) {
        grid-area: r2;
    }
    .rank-grid > li:nth-child(3) {
        grid-area: r3;
    }
    .rank-grid > li:nth-child(4) {
        grid-area: r4;
    }
    .rank-grid > li:nth-child(5) {
        grid-area: r5;
    }
    .rank-grid > li:nth-child(6) {
        grid-area: r6;
    }
    .rank-grid > li:nth-child(7) {
        grid-area: r7;
    }
    .rank-grid > li:nth-child(8) {
        grid-area: r8;
    }
    .rank-grid > li:nth-child(9) {
        grid-area: r9;
    }
    .rank-grid > li:nth-child(10) {
        grid-area: r10;
    }
    .rank-grid > li:nth-child(11) {
        grid-area: r11;
    }
    .rank-grid > li:nth-child(12) {
        grid-area: r12;
    }
    .rank-grid > li:nth-child(13) {
        grid-area: r13;
    }
    .rank-grid > li:nth-child(14) {
        grid-area: r14;
    }
    .rank-grid > li:nth-child(15) {
        grid-area: r15;
    }
    .rank-grid > li:nth-child(16) {
        grid-area: r16;
    }
    .rank-grid > li:nth-child(17) {
        grid-area: r17;
    }
    .rank-grid > li:nth-child(18) {
        grid-area: r18;
    }
    .rank-grid > li:nth-child(19) {
        grid-area: r19;
    }
    .rank-grid > li:nth-child(20) {
        grid-area: r20;
    }

    A {
      text-decoration: none;
    }

    a:hover {
      color: #99ccff;
    }
  </style>
</head>
<body text="#000000" bgcolor="#ffffff" link="#0099ff" vlink="#0099ff" alink="#0099ff">
  <div>
    <div id="603446273904584399" align="left" style="width: 100%; overflow-y: hidden;" class="wcustomhtml">
      <script type="text/javascript">
        var namMember = new Array(
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/39/877/3139877_20230817145359_500.jpg?42fbd473f1ad52ffa40dbe604e748f13/melon/resize/208/quality/80/optimize'><br>S1 윤서연 (Seoyeon)", 
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/37/705/3137705_20230817150154_500.jpg?631524f06c0f4bc7bab47d1c35cc3053/melon/resize/208/quality/80/optimize'><br>S2 정혜린 (Hyerin)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/39/880/3139880_20231011121612_500.jpg?71928e77b4f993cf3bd122e21554c975/melon/resize/208/quality/80/optimize'><br>S3 이지우 (Jiwoo)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/39/881/3139881_20231011121750_500.jpg?4e8623ead1de0b688e7762702e865263/melon/resize/208/quality/80/optimize'><br>S4 김채연 (Chaeyeon)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/37/706/3137706_20231011121531_500.jpg?9156280507c2f594d63c1905e4c18b24/melon/resize/208/quality/80/optimize'><br>S5 김유연 (Yooyeon)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/39/883/3139883_20231011121402_500.jpg?521e02b535c40838d5f4886a7e70af9d/melon/resize/208/quality/80/optimize'><br>S6 김수민 (Soomin)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/37/707/3137707_20231011121217_500.jpg?f79e52fedfc3d573fa71e4fdc0deb058/melon/resize/208/quality/80/optimize'><br>S7 김나경 (Nakyoung)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/37/708/3137708_20230817150515_500.jpg?63360ba8b7c85cb0b962c5d3b79fd189/melon/resize/208/quality/80/optimize'><br>S8 공유빈 (Yubin)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/99/290/3199290_20230817150553_500.jpg?9e365f6ec06ef976d74548b4188dae4e/melon/resize/208/quality/80/optimize'><br>S9 카에데 (Kaede)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/031/76/273/3176273_20230817150626_500.jpg?ff15931a9cd2157991ce1d9f2f676880/melon/resize/208/quality/80/optimize'><br>S10 서다현 (Dahyun)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/035/74/812/3574812_20231011121839_500.jpg?f7e7370b88ad2a8bce72ec96c9442c71/melon/resize/208/quality/80/optimize'><br>S11 코토네 (Kotone)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/035/74/813/3574813_20231011121445_500.jpg?80d21b2a1621cd0ec16bb3b1a4cd81d9/melon/resize/208/quality/80/optimize'><br>S12 곽연지 (Yeonji)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/034/84/648/3484648_20230817150957_500.jpg?4207207b3a3c83bdc6ecb8ebd8f0bcc4/melon/resize/208/quality/80/optimize'><br>S13 니엔 (Nien)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/034/84/660/3484660_20230817151036_500.jpg?2dffcc5721eda6367e9b1a24771a6846/melon/resize/208/quality/80/optimize'><br>S14 박소현 (Sohyun)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/034/84/677/3484677_20230817151123_500.jpg?280416ef4f596ba43bc2a628018e01f0/melon/resize/208/quality/80/optimize'><br>S15 신위 (Xinyu)",
            "<img src='https://cdnimg.melon.co.kr/cm2/artistcrop/images/035/74/811/3574811_20231011121321_500.jpg?be25c9af613d47bf114b8edd5195b211/melon/resize/208/quality/80/optimize'><br>S16 마유 (Mayu)",
            "<img src='https://cdnimg.melon.co.kr/cm2/album/images/113/88/823/11388823_20231222114130_500.jpg?04be6ef842dc2e4dc0d486f93204fe00/melon/resize/208/quality/80/optimize'><br>S17 Lynn",
            "<img src='https://cdnimg.melon.co.kr/cm2/album/images/113/88/823/11388823_20231222114130_500.jpg?04be6ef842dc2e4dc0d486f93204fe00/melon/resize/208/quality/80/optimize'><br>S18 Joobin",
            "<img src='https://cdnimg.melon.co.kr/cm2/album/images/113/88/823/11388823_20231222114130_500.jpg?04be6ef842dc2e4dc0d486f93204fe00/melon/resize/208/quality/80/optimize'><br>S19 Hayeon",
            "<img src='https://cdnimg.melon.co.kr/cm2/album/images/113/88/823/11388823_20231222114130_500.jpg?04be6ef842dc2e4dc0d486f93204fe00/melon/resize/208/quality/80/optimize'><br>S20 Sion"
        );
        
        var lstMember = new Array();
        var parent = new Array();
        var equal = new Array();
        var rec = new Array();
        var cmp1,cmp2;
        var head1,head2;
        var nrec;

        var numQuestion;
        var totalSize;
        var finishSize;
        var finishFlag;

        function initList(){
            var n = 0;
            var mid;
            var i;

            lstMember[n] = new Array();
            for (i=0; i<namMember.length; i++) {
                lstMember[n][i] = i;
            }
            parent[n] = -1;
            totalSize = 0;
            n++;

            for (i=0; i<lstMember.length; i++) {
                if(lstMember[i].length>=2) {
                    mid = Math.ceil(lstMember[i].length/2);
                    lstMember[n] = new Array();
                    lstMember[n] = lstMember[i].slice(0,mid);
                    totalSize += lstMember[n].length;
                    parent[n] = i;
                    n++;
                    lstMember[n] = new Array();
                    lstMember[n] = lstMember[i].slice(mid,lstMember[i].length);
                    totalSize += lstMember[n].length;
                    parent[n] = i;
                    n++;
                }
            }

            for (i=0; i<namMember.length; i++) {
                rec[i] = 0;
            }
            nrec = 0;

            for (i=0; i<=namMember.length; i++) {
                equal[i] = -1;
            }

            cmp1 = lstMember.length-2;
            cmp2 = lstMember.length-1;
            head1 = 0;
            head2 = 0;
            numQuestion = 1;
            finishSize = 0;
            finishFlag = 0;
        }

        function sortList(flag){
            var i;
            var str;

            if (flag<0) {
                rec[nrec] = lstMember[cmp1][head1];
                head1++;
                nrec++;
                finishSize++;
                while (equal[rec[nrec-1]]!=-1) {
                    rec[nrec] = lstMember[cmp1][head1];
                    head1++;
                    nrec++;
                    finishSize++;
                }
            }
            else if (flag>0) {
                rec[nrec] = lstMember[cmp2][head2];
                head2++;
                nrec++;
                finishSize++;
                while (equal[rec[nrec-1]]!=-1) {
                    rec[nrec] = lstMember[cmp2][head2];
                    head2++;
                    nrec++;
                    finishSize++;
                }
            }
            else {
                rec[nrec] = lstMember[cmp1][head1];
                head1++;
                nrec++;
                finishSize++;
                while (equal[rec[nrec-1]]!=-1) {
                    rec[nrec] = lstMember[cmp1][head1];
                    head1++;
                    nrec++;
                    finishSize++;
                }
                equal[rec[nrec-1]] = lstMember[cmp2][head2];
                rec[nrec] = lstMember[cmp2][head2];
                head2++;
                nrec++;
                finishSize++;
                while (equal[rec[nrec-1]]!=-1) {
                    rec[nrec] = lstMember[cmp2][head2];
                    head2++;
                    nrec++;
                    finishSize++;
                }
            }

            if (head1<lstMember[cmp1].length && head2==lstMember[cmp2].length) {
                while (head1<lstMember[cmp1].length){
                    rec[nrec] = lstMember[cmp1][head1];
                    head1++;
                    nrec++;
                    finishSize++;
                }
            }
            else if (head1==lstMember[cmp1].length && head2<lstMember[cmp2].length) {
                while (head2<lstMember[cmp2].length){
                    rec[nrec] = lstMember[cmp2][head2];
                    head2++;
                    nrec++;
                    finishSize++;
                }
            }

            if (head1==lstMember[cmp1].length && head2==lstMember[cmp2].length) {
                for (i=0; i<lstMember[cmp1].length+lstMember[cmp2].length; i++) {
                    lstMember[parent[cmp1]][i] = rec[i];
                }
                lstMember.pop();
                lstMember.pop();
                cmp1 = cmp1-2;
                cmp2 = cmp2-2;
                head1 = 0;
                head2 = 0;

                //Initialize the rec before performing the new comparison
                if (head1==0 && head2==0) {
                    for (i=0; i<namMember.length; i++) {
                        rec[i] = 0;
                    }
                    nrec = 0;
                }
            }

            if (cmp1<0) {
                str = "Choice "+(numQuestion-1)+"<br>"+Math.floor(finishSize*100/totalSize)+"% done.";
                document.getElementById("battleNumber").innerHTML = str;

                showResult();
                finishFlag = 1;
            }
            else {
                showImage();
            }
        }

        function showResult() {
            var ranking = 1;
            var sameRank = 1;
            /*var str = "";*/
            var str = "<div class=\"rank-grid\">";
            var i;

            /*str += "<table style=\"width:320px; font-size:15px; line-height:120%; margin-left:auto; margin-right:auto; border:1px solid #888888; border-collapse:collapse; font-family:'Nunito',sans-serif;\" align=\"center\">";
            str += "<tr><td style=\"color:#ffffff; background-color:#888888; text-align:center;\">Rank<\/td><td style=\"color:#ffffff; background-color:#888888; text-align:center; font-family:'Nunito',sans-serif;\">Name<\/td><\/tr>";*/

            for (i=0; i<namMember.length; i++) {
                /*str += "<tr><td style=\"border:1px solid #888888; width:25px; text-align:center; padding-right:5px; font-family:'Nunito',sans-serif;\">"+ranking+"<\/td><td style=\"border:1px solid #888888; width:175px; text-align:center; padding-left:5px; font-family:'Nunito',sans-serif;\">"+namMember[lstMember[0][i]]+"<\/td><\/tr>";*/
                str += "<li style=\"list-style-type: none; padding: 5px; font-size: 15px; line-height: 120%; font-family: 'Nunito', sans-serif; font-weight: bold;\">" + ranking + "<br>" + namMember[lstMember[0][i]] + "</li>";
                
                if (i<namMember.length-1) {
                    if (equal[lstMember[0][i]]==lstMember[0][i+1]) {
                        sameRank++;
                    } else {
                        ranking += sameRank;
                        sameRank = 1;
                    }
                }
            }
            /*str += "<\/table>";*/
            str += "</div>";

            document.getElementById("resultField").innerHTML = str;
        }

        function showImage() {
            var str0 = "Choice "+numQuestion+"<br>"+Math.floor(finishSize*100/totalSize)+"%<br>";
            var str1 = ""+toNameFace(lstMember[cmp1][head1]);
            var str2 = ""+toNameFace(lstMember[cmp2][head2]);

            document.getElementById("battleNumber").innerHTML = str0;
            document.getElementById("leftField").innerHTML = str1;
            document.getElementById("rightField").innerHTML = str2;

            numQuestion++;
        }

        function toNameFace(n){
            var str = namMember[n];
            return str;
        }
      </script>
      <div class="instructions" style="font-family: 'Nunito', sans-serif;">
        <center>
          <br /><br />
          <b>Hi tripleS! 안녕하세요, 'TripleS'입니다!</b><br />
          <b>TripleS Bias Sorter</b><br /><br>Pick who you like better in each round to get an accurate list of your favorite members from the group.<br />Note: Hitting 'No Opinion' or 'I Like Both' frequently will affect your results negatively.<br />All images seen here are credited to Melon.<br /><br />
        </center>

        <table id="mainTable" align="center">
          <tbody>
            <tr>
              <td id="battleNumber" colspan="3" style="padding-bottom: 15px; text-align:center;">Round 1<br>0%</td>
            </tr>
            <tr>
              <td id="leftField" onclick="if(finishFlag==0)sortList(-1);" rowspan="2" style="text-align:center;"></td>
              <td class="middleField" onclick="if(finishFlag==0)sortList(0);" style="text-align:center;">I Like Both</td>
              <td id="rightField" onclick="if(finishFlag==0)sortList(1);" rowspan="2"style="text-align:center;"></td>
            </tr>
            <tr>
              <td class="middleField" onclick="if(finishFlag==0)sortList(0);"style="text-align:center;">No Opinion</td>
            </tr>
          </tbody>
        </table>
        <br><br>
        <div id="resultField" style="text-align: center;">
          <br><br>
        </div>
        <script type="text/javascript">
          initList();
          showImage();
        </script>
      </div>
    </div>
  </div>
</body>
</html>